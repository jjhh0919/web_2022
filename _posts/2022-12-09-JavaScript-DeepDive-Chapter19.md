---
layout: post
title: Chapter19
date: 2022-12-09
category: JavaScript
image: assets/img/blog/JavaScript.png
author: 문준혁
tags: study
---

모던 자바스크립트 19장(프로토타입)

* 자바스크립트는 클래스 기반 객체지향 프로그래밍 언어보다 효율적이며 더 강력한 객체지향 프로그래밍 능력을 지니고 있는 프로토타입 기반의 객체지향 프로그래밍 언어

### 객체지향 프로그래밍

* 프로그램을 명령어 또는 함수의 목록으로 보는 전통적인 명령형 프로그래밍의 절차지향적 관점에서 벗어나 여러 개의 독립적 단위, 즉 객체의 집합으로 프로그램을 표현하려는 프로그래밍 패러다임
* 추상화 : 다양한 속성 중에서 프로그램에 필요한 속성만 간추려 표현하는 것
* 객체의 상태를 나타내는 데이터와 상태 데이터를 조작할 수 있는 동작을 하나의 논리적인 단위로 묶어 생각
* 상태 데이터와 동작을 하나의 논리적인 단위로 묶은 복합적인 자료구조
* 프로퍼티 : 객체의 상태 데이터
* 메서드 : 동작

### 상속과 프로토타입

* 상속 : 어떤 객체의 프로퍼티 또는 메서드를 다른 객체가 상속받아 그대로 사용할 수 있는 것
* 프로토타입을 기반으로 상속을 구현하여 불필요한 중복을 제거
* 중복을 제거하는 방법 => 기존의 코드를 적극적으로 재사용
* 생성자 함수가 생성할 모든 인스턴스가 공통적으로 사용할 프로퍼티나 메서드를 프로토타입에 미리 구현 => 생성자 함수가 생성할 모든 인스턴스는 별도의 구현 없이 상위(부모) 객체인 프로토타입의 자산을 공유하여 사용

### 프로토타입 객체

* 객체 간 상속을 구현하기 위해 사용
* 프로토타입을 상속받은 하위(자식) 객체는 상위 프로퍼티를 자신의 프로퍼티처럼 자유롭게 사용 가능
* 모든 객체는 [[Prototype]]이라는 내부 슬롯을 가지며, 이 내부 슬롯의 값은 프로토타입의 참조 => 객체 생성 방식에 의해 결정
* 모든 객체는 하나의 프로토타입을 가짐, 모든 프로토타입은 생성자 함수와 연결 => 객체와 프로토타입과 생성자 함수는 서로 연결

#### __proto__ 접근자 프로퍼티

* 모든 객체는 __proto__ 접근자 프로퍼티를 통해 자신의 프로토타입, 즉 [[Prototype]] 내부 슬롯에 간접적으로 접근 가능
* __proto__는 접근자 프로퍼티
* __proto__ 접근자 프로퍼티는 상속을 통해 사용
* __proto__ 접근자 프로퍼티를 통해 프로토타입에 접근하는 이유 => 상호 참조에 의해 프로토타입 체인이 생성되는 것을 방지
* __proto__ 접근자 프로퍼티를 코드 내에서 직접 사용하는 것은 권장하지 않음

#### 함수 객체의 prototype 프로퍼티

* 함수 객체만이 소유하는 prototype 프로퍼티는 생성자 함수가 생성할 인스턴스의 프로토타입을 가리킴
* non-contructor(화살표 함수, ES6 축약 표현으로 정의한 메서드)는 prototype 프로퍼티를 소유하지 않으며 프로토타입도 생성하지 않음
* 생성자 함수로 호출하기 위해 정의하지 않은 일반 함수(함수 선언문, 함수 표현식)도 prototype 프로퍼티를 소유하지만 객체를 생성하지 않는 일반 함수의 prototype 프로퍼티는 아무런 의미 X
* 모든 객체가 가지고 있는 __proto__ 접근자 프로퍼티와 함수 객체만이 가지고 있는 prototype 프로퍼티는 결국 동일한 프로토타입을 가리키지만 이들 프로퍼티를 사용하는 주체가 다름

#### 프로토타입의 constructor 프로퍼티와 생성자 함수

* constructor 프로퍼티는 prototype 프로퍼티로 자신을 참조하고 있는 생성자 함수를 가리킴
* 연결은 생성자 함수가 생성될 때(함수 객체가 생성될 때) 이뤄짐

### 리터럴 표기법에 의해 생성된 객체의 생성자 함수와 프로토타입

* 리터럴 표기법에 의해 생성된 객체도 프로토타입이 존재
* 리터럴 표기법에 의해 생성된 객체의 경우 프로토타입의 constructor 프로퍼티가 가리키는 생성자 함수가 반드시 객체를 생성한 생성자 함수라고 단정 X
* 프로토타입과 생성자 함수는 단독으로 존재할 수 없고 언제나 쌍으로 존재

### 프로토타입의 생성 지점

* 프로토타입은 생성자 함수가 생성되는 시점에 더불어 생성

#### 사용자 정의 생성자 함수와 프로토타입 생성 지점

* 생성자 함수로서 호출할 수 있는 함수, 즉 constructor는 함수 정의가 평가되어 함수 객체를 생성하는 시점에 프로토타입도 더불어 생성
* non-constructor는 프로토타입이 생성되지 않음

#### 빌트인 생성자 함수와 프로토타입 생성 시점

* 빌트인 생성자 함수도 일반 함수와 마찬가지로 빌트인 생성자 함수가 생성되는 시점에 프로토타입이 생성
* 모든 빌트인 생성자 함수는 전역 객체가 생성되는 시점에 생성
* 생성된 프로토타입은 빌트인 생성자 함수의 prototype 프로퍼티에 바인딩
* 객체가 생성되기 이전에 생성자 함수와 프로토타입은 이미 객체화되어 존재 => 생성자 함수 또는 리터럴 표기법으로 객체를 생성하면 프로토타입은 생성된 객체의 [[Prototype]] 내부 슬롯에 할당
